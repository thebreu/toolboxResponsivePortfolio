!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function($){return t($,e,e.document)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),e,e.document):t(jQuery,e,e.document)}("undefined"!=typeof window?window:this,function($,e,t,o){"use strict";function n(){return v.height()+z.offset}function r(t,o,r,i){if(f===t&&(r=!1),!0===T)return!0;if(c[t]){if(S=!1,!0===N&&(z.afterRender(),N=!1),r&&"function"==typeof z.before&&!1===z.before(t,u))return!0;if(d=1,L=a[t],!1===N&&f>t&&!1===i&&l[t]&&(y=n(),d=parseInt(u[t].outerHeight()/y),L=parseInt(a[t])+(u[t].outerHeight()-y)),z.updateHash&&z.sectionName&&(!0!==N||0!==t))if(history.pushState)try{history.replaceState(null,null,c[t])}catch(t){e.console&&console.warn("Scrollify warning: Page must be hosted to manipulate the hash value.")}else e.location.hash=c[t];if(f=t,o)$(z.target).stop().scrollTop(L),r&&z.after(t,u);else{if(b=!0,$().velocity?$(z.target).stop().velocity("scroll",{duration:z.scrollSpeed,easing:z.easing,offset:L,mobileHA:!1}):$(z.target).stop().animate({scrollTop:L},z.scrollSpeed,z.easing),e.location.hash.length&&z.sectionName&&e.console)try{$(e.location.hash).length&&console.warn("Scrollify warning: ID matches hash value - this will cause the page to anchor.")}catch(e){}$(z.target).promise().done(function(){b=!1,N=!1,r&&z.after(t,u)})}}}function i(e){function t(t){for(var o=0,n=e.slice(Math.max(e.length-t,1)),r=0;r<n.length;r++)o+=n[r];return Math.ceil(o/t)}return t(10)>=t(70)}function s(e,t){for(var o=c.length;o>=0;o--)"string"==typeof e?c[o]===e&&(h=o,r(o,t,!0,!0)):o===e&&(h=o,r(o,t,!0,!0))}var a=[],c=[],u=[],l=[],h=0,f=0,d=1,p=!1,m,g,v=$(e),y,w=v.scrollTop(),S=!1,b=!1,H=!1,E,M,x,T=!1,D=[],I=(new Date).getTime(),N=!0,k=!1,L=0,O="onwheel"in t?"wheel":t.onmousewheel!==o?"mousewheel":"DOMMouseScroll",z={section:".section",sectionName:"section-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,target:"html,body",standardScrollElements:!1,setHeights:!0,overflowScroll:!0,updateHash:!0,touchScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}},R=function(o){function s(e){$().velocity?$(z.target).stop().velocity("scroll",{duration:z.scrollSpeed,easing:z.easing,offset:e,mobileHA:!1}):$(z.target).stop().animate({scrollTop:e},z.scrollSpeed,z.easing)}function f(e){e&&(w=v.scrollTop());var t=z.section;l=[],z.interstitialSection.length&&(t+=","+z.interstitialSection),!1===z.scrollbars&&(z.overflowScroll=!1),y=n(),$(t).each(function(e){var t=$(this);z.setHeights?t.is(z.interstitialSection)?l[e]=!1:t.css("height","auto").outerHeight()<y||"hidden"===t.css("overflow")?(t.css({height:y}),l[e]=!1):(t.css({height:t.height()}),z.overflowScroll?l[e]=!0:l[e]=!1):t.outerHeight()<y||!1===z.overflowScroll?l[e]=!1:l[e]=!0}),e&&v.scrollTop(w)}function N(t,o){var n=z.section;z.interstitialSection.length&&(n+=","+z.interstitialSection),a=[],c=[],u=[],$(n).each(function(t){var o=$(this);a[t]=t>0?parseInt(o.offset().top)+z.offset:parseInt(o.offset().top),z.sectionName&&o.data(z.sectionName)?c[t]="#"+o.data(z.sectionName).toString().replace(/ /g,"-"):!1===o.is(z.interstitialSection)?c[t]="#"+(t+1):(c[t]="#",t===$(n).length-1&&t>1&&(a[t]=a[t-1]+(parseInt($($(n)[t-1]).outerHeight())-parseInt($(e).height()))+parseInt(o.outerHeight()))),u[t]=o;try{$(c[t]).length&&e.console&&console.warn("Scrollify warning: Section names can't match IDs - this will cause the browser to anchor.")}catch(e){}e.location.hash===c[t]&&(h=t,p=!0)}),!0===t&&r(h,!1,!1,!1)}function L(){return!l[h]||!((w=v.scrollTop())>parseInt(a[h]))}function R(){return!l[h]||(w=v.scrollTop(),y=n(),!(w<parseInt(a[h])+(u[h].outerHeight()-y)-28))}k=!0,$.easing.easeOutExpo=function(e,t,o,n,r){return t==r?o+n:n*(1-Math.pow(2,-10*t/r))+o},E={handleMousedown:function(){if(!0===T)return!0;S=!1,H=!1},handleMouseup:function(){if(!0===T)return!0;S=!0,H&&E.calculateNearest(!1,!0)},handleScroll:function(){if(!0===T)return!0;m&&clearTimeout(m),m=setTimeout(function(){if(H=!0,!1===S)return!1;S=!1,E.calculateNearest(!1,!0)},200)},calculateNearest:function(e,t){w=v.scrollTop();for(var o=1,n=a.length,i=0,s=Math.abs(a[0]-w),c;o<n;o++)(c=Math.abs(a[o]-w))<s&&(s=c,i=o);(R()&&i>h||L())&&(h=i,r(i,e,t,!1))},wheelHandler:function(t){if(!0===T)return!0;if(z.standardScrollElements&&($(t.target).is(z.standardScrollElements)||$(t.target).closest(z.standardScrollElements).length))return!0;l[h]||t.preventDefault();var o=(new Date).getTime();t=t||e.event;var n=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail,s=Math.max(-1,Math.min(1,n));if(D.length>149&&D.shift(),D.push(Math.abs(n)),o-I>200&&(D=[]),I=o,b)return!1;if(s<0){if(h<a.length-1&&R()){if(!i(D))return!1;t.preventDefault(),h++,b=!0,r(h,!1,!0,!1)}}else if(s>0&&h>0&&L()){if(!i(D))return!1;t.preventDefault(),h--,b=!0,r(h,!1,!0,!1)}},keyHandler:function(e){return!0===T||!1===t.activeElement.readOnly||!0!==b&&void(38==e.keyCode||33==e.keyCode?h>0&&L()&&(e.preventDefault(),h--,r(h,!1,!0,!1)):40!=e.keyCode&&34!=e.keyCode||h<a.length-1&&R()&&(e.preventDefault(),h++,r(h,!1,!0,!1)))},init:function(){z.scrollbars?(v.on("mousedown",E.handleMousedown),v.on("mouseup",E.handleMouseup),v.on("scroll",E.handleScroll)):$("body").css({overflow:"hidden"}),v.on(O,E.wheelHandler),v.on("keydown",E.keyHandler)}},M={touches:{touchstart:{y:-1,x:-1},touchmove:{y:-1,x:-1},touchend:!1,direction:"undetermined"},options:{distance:30,timeGap:800,timeStamp:(new Date).getTime()},touchHandler:function(e){if(!0===T)return!0;if(z.standardScrollElements&&($(e.target).is(z.standardScrollElements)||$(e.target).closest(z.standardScrollElements).length))return!0;var t;if(void 0!==e&&void 0!==e.touches)switch(t=e.touches[0],e.type){case"touchstart":M.touches.touchstart.y=t.pageY,M.touches.touchmove.y=-1,M.touches.touchstart.x=t.pageX,M.touches.touchmove.x=-1,M.options.timeStamp=(new Date).getTime(),M.touches.touchend=!1;case"touchmove":M.touches.touchmove.y=t.pageY,M.touches.touchmove.x=t.pageX,M.touches.touchstart.y!==M.touches.touchmove.y&&Math.abs(M.touches.touchstart.y-M.touches.touchmove.y)>Math.abs(M.touches.touchstart.x-M.touches.touchmove.x)&&(e.preventDefault(),M.touches.direction="y",M.options.timeStamp+M.options.timeGap<(new Date).getTime()&&0==M.touches.touchend&&(M.touches.touchend=!0,M.touches.touchstart.y>-1&&Math.abs(M.touches.touchmove.y-M.touches.touchstart.y)>M.options.distance&&(M.touches.touchstart.y<M.touches.touchmove.y?M.up():M.down())));break;case"touchend":!1===M.touches[e.type]&&(M.touches[e.type]=!0,M.touches.touchstart.y>-1&&M.touches.touchmove.y>-1&&"y"===M.touches.direction&&(Math.abs(M.touches.touchmove.y-M.touches.touchstart.y)>M.options.distance&&(M.touches.touchstart.y<M.touches.touchmove.y?M.up():M.down()),M.touches.touchstart.y=-1,M.touches.touchstart.x=-1,M.touches.direction="undetermined"));default:break}},down:function(){h<a.length&&(R()&&h<a.length-1?(h++,r(h,!1,!0,!1)):(y=n(),Math.floor(u[h].height()/y)>d?(s(parseInt(a[h])+y*d),d+=1):s(parseInt(a[h])+(u[h].outerHeight()-y))))},up:function(){h>=0&&(L()&&h>0?(h--,r(h,!1,!0,!1)):d>2?(y=n(),d-=1,s(parseInt(a[h])+y*d)):(d=1,s(parseInt(a[h]))))},init:function(){if(t.addEventListener&&z.touchScroll){var e={passive:!1};t.addEventListener("touchstart",M.touchHandler,e),t.addEventListener("touchmove",M.touchHandler,e),t.addEventListener("touchend",M.touchHandler,e)}}},x={refresh:function(e,t){clearTimeout(g),g=setTimeout(function(){f(!0),N(t,!1),e&&z.afterResize()},400)},handleUpdate:function(){x.refresh(!1,!1)},handleResize:function(){x.refresh(!0,!1)},handleOrientation:function(){x.refresh(!0,!0)}},z=$.extend(z,o),f(!1),N(!1,!0),!0===p?r(h,!1,!0,!0):setTimeout(function(){E.calculateNearest(!0,!1)},200),a.length&&(E.init(),M.init(),v.on("resize",x.handleResize),t.addEventListener&&e.addEventListener("orientationchange",x.handleOrientation,!1))};return R.move=function(e){if(e===o)return!1;e.originalEvent&&(e=$(this).attr("href")),s(e,!1)},R.instantMove=function(e){if(e===o)return!1;s(e,!0)},R.next=function(){h<c.length&&(h+=1,r(h,!1,!0,!0))},R.previous=function(){h>0&&(h-=1,r(h,!1,!0,!0))},R.instantNext=function(){h<c.length&&(h+=1,r(h,!0,!0,!0))},R.instantPrevious=function(){h>0&&(h-=1,r(h,!0,!0,!0))},R.destroy=function(){if(!k)return!1;z.setHeights&&$(z.section).each(function(){$(this).css("height","auto")}),v.off("resize",x.handleResize),z.scrollbars&&(v.off("mousedown",E.handleMousedown),v.off("mouseup",E.handleMouseup),v.off("scroll",E.handleScroll)),v.off(O,E.wheelHandler),v.off("keydown",E.keyHandler),t.addEventListener&&z.touchScroll&&(t.removeEventListener("touchstart",M.touchHandler,!1),t.removeEventListener("touchmove",M.touchHandler,!1),t.removeEventListener("touchend",M.touchHandler,!1)),a=[],c=[],u=[],l=[]},R.update=function(){if(!k)return!1;x.handleUpdate()},R.current=function(){return u[h]},R.currentIndex=function(){return h},R.disable=function(){T=!0},R.enable=function(){T=!1,k&&E.calculateNearest(!1,!1)},R.isDisabled=function(){return T},R.setOptions=function(t){if(!k)return!1;"object"==typeof t?(z=$.extend(z,t),x.handleUpdate()):e.console&&console.warn("Scrollify warning: setOptions expects an object.")},$.scrollify=R,R});